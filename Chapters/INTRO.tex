%!TEX root = ../template.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% chapter1.tex
%% NOVA thesis document file
%%
%% Chapter with introduction
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \begin{ntquote}[14cm][Galileo][Somewhere in a book or speach][Astronomer, physicist and engineer][en]
%  You cannot teach a man anything; you can only help him discover it in himself.%
% \end{ntquote}
% \begin{ntquote}[20cm][Alan Kay][Computer scientist]
% The best way to predict the future is to invent it.%
% \end{ntquote}
% Syntax - all arguments are optional and can be omitted from the last to the first
% \begin{ntquote}
        % [max width of citation box]
        % [author name]
        % [where/source]
        % [profession]
        % [lang]
% YOUR TEXT HERE

% \end{ntquote}

\typeout{NT FILE INTRO.tex}%

% CHAPTER - Introduction -------------------------
% Preview default styles
\chapter{Introduction}%
\label{cha:introduction}
%
\begin{quote}
\begin{flushright}
``\emph{The best way to predict the future is to invent it.}'' \\
\textbf{-- Alan Kay}, computer scientist
\end{flushright}
\end{quote}

\glspl{uav} are increasingly deployed across safety-critical domains -- from
inspection and mapping to search-and-rescue and
defense~\cite{silvagni_multipurpose_2017,lammers_airborne_2023,tsouros_review_2019,yu_uav-based_2022,dilshad_applications_2020,caroti_uav-borne_2017}
-- where
flight control must coexist with mission applications under tight \gls{swap-c}
constraints. In these settings, the flight-control stack (safety-critical) runs
alongside bandwidth- and compute-intensive mission software (non-critical) and
must remain protected against timing interference, memory corruption, and fault
propagation. Meanwhile, many countries now permit routine operations in populated
areas (often below 150\,m)~\cite{nassi2021sok}, raising both safety stakes
(e.g., crash hazards to people and property) and security/privacy concerns
(\glspl{uav} can collect sensitive data).
%
In practice,
security is often not engineered from the outset~\cite{leccadito2018survey}:
common configurations expose open, unauthenticated, or unencrypted links that
invite cyber-attacks~\cite{kishnaCyberVulnerUAVReview2017,mansfieldUAVCyberThreats2013};
policy reactions have included bans on certain commercial platforms over
cybersecurity concerns~\cite{suasNewsDjiDronesBanned2017}; and media-reported
incidents illustrate potential misuse and harm~\cite{spiegelUAVAccident2015,nytimesUAVAccident2018,theDriveUAVAccident2019}.
As adoption accelerates~\cite{mohsan2022towards} and regulators move from
permissive pilots to explicit operational rules (e.g., European Union categories; \gls{utm}
initiatives), assurance and traceability requirements become more
concrete~\cite{Ullah2020UAV5gEULegisl,glossner2021overview}.

Conventional multi-board designs -- comprising a dedicated \gls{fmu} plus a
companion computer -- provide isolation by hardware separation but add weight, power, and
inter-board latency. Yet hardware separation alone is insufficient:
compromises in non-critical nodes can still cascade into critical functions via
shared interfaces. In this space, formally verified components have been used on
the mission side (e.g., seL4 + CAmkES \gls{vmm})~\cite{klein_formally_2018},
but the threat models typically exclude attacks on communication links and
assume a correct, uncompromised flight stack. These assumptions are hard to
justify given the broad attack surface~\cite{nassi2021sok}, known autopilot bug
densities~\cite{wang_exploratory_2021}, and vulnerabilities in commercial
\glspl{rtos}~\cite{buquerin2018security}.

Commercial single-board solutions often deploy application-specific software
in containers on the mission processor~\cite{skynodeS,auterion-sw-services}, but
containers share a kernel and cannot, by themselves, enforce temporal, spatial,
or fault isolation between domains~\cite{wang_enabling_2018}. Other consolidation
efforts rely on closed-source hypervisors (e.g., PikeOS, CLARE~\cite{cittadini_supporting_2023})
with application-specific flight-stack customizations. While these paths improve
integration, they tend to lack analyzable real-time guarantees and a small,
auditable \gls{tcb}.

This thesis investigates how to safely consolidate mixed-criticality
\gls{uav} workloads on shared hardware while preserving temporal, spatial, and
fault-containment isolation. We adopt a static-partitioning hypervisor approach
centered on Bao, an open, lightweight type-I hypervisor, and evaluate it in a
representative video-surveillance use case. Our goal is a trustworthy reference
stack that is practical on commodity platforms, transparent by design, and
measurable end-to-end.

\section{Motivation}
\label{sec:motivation}
% \noindent\textbf{Operational pressure:}
Field operations increasingly require live video, perception, and connectivity
(e.g., \gls{lte}/5G), which compete with control loops for \gls{cpu}, memory, cache, and \gls{io}
bandwidth. Offloading to a companion computer raises \gls{swap-c}, complicates
power/thermal budgets, and introduces link latency/jitter between control and
mission domains.

% \noindent\textbf{Assurance and security pressure:}
Safety-critical flight control demands bounded worst-case latency and strong
fault containment. Containerization shares a kernel and cannot, by itself,
provide spatial or fault isolation. Formally verified components improve
assurance for what they verify, but securing only the mission side -- or
assuming benign links and perfect autopilots -- leaves critical paths exposed,
given the documented attack surface and
defects~\cite{nassi2021sok,wang_exploratory_2021,buquerin2018security}. We
therefore need system-level supervision that covers both domains and their interfaces.

% \noindent\textbf{Platform pressure:}
Emerging heterogeneous \glspl{soc} make single-board integration attractive, but
flight-control support, predictable device assignment, \gls{dma} / \gls{iommu}
integrity, interrupt delivery, and cache interference are practical hurdles. A small, analyzable, open approach is needed to both
\emph{demonstrate} and \emph{measure} trustworthy consolidation on such
platforms.
%
% \noindent\textbf{Design choice:}
Static partitioning minimizes hypervisor complexity and scheduling overheads,
enabling clear timing models and a reduced attack surface. Bao provides this
with a small codebase and active open-source development, making it a suitable
foundation for a trustworthy \gls{uav} stack.

\section{Goals}
The main goal of this work is to design, implement, and evaluate a trustworthy,
open-source reference stack that consolidates safety-critical flight control and
non-critical mission workloads on shared hardware using the Bao hypervisor,
while preserving temporal, spatial, and fault-containment isolation under
realistic video-surveillance missions. We target small/medium multirotors and
focus on onboard consolidation (not ground-side networks). Our adversarial tests
emphasize inter-domain isolation (faults, misbehaving guests), not radio-frequency
jamming or \gls{gnss} spoofing.

The main goal of this work is to design, implement, and evaluate a trustworthy,
open-source reference stack that consolidates safety-critical flight control and
non-critical mission workloads on shared hardware using the Bao hypervisor,
while preserving temporal, spatial, and fault-containment isolation under
realistic video-surveillance missions. We target small/medium multirotors and
focus on onboard consolidation (not ground-side networks). Our adversarial tests
emphasize inter-domain isolation (faults, misbehaving guests), not radio-frequency
jamming or \gls{gnss} spoofing.

Concretely, we implement and assess the design on a Raspberry~Pi~4 + PilotPi
platform, aiming to narrow the gap between open-source and commercial solutions
and to encourage widespread adoption of secure-by-design features in UAV
software stacks.
%
To this end, we define the following objectives:
\begin{enumerate}
\item Analyze the state of the art in mixed-criticality \gls{uav} systems and
      define trustworthiness criteria with emphasis on hypervisor-based supervision.
\item Select a representative mixed-criticality application (flight control with
      video surveillance) to drive concrete design choices.
\item Derive application requirements and choose a target hardware platform that
      offers security primitives essential for hypervisor-based isolation (e.g.,
      virtual memory, memory protection) while meeting \gls{swap-c} constraints.
\item Design and implement an unsupervised single-platform baseline (\gls{uspfs})
      that co-locates mission and flight control without supervision, and a
      supervised counterpart (\gls{sspfs}) atop Bao with static partitioning,
      using open-source components.
\item Design and implement a mailbox-supervision mechanism to safely share
      \gls{pcie}--attached peripherals across \glspl{vm}.
\item Validate fault containment by injecting malicious behavior into each system
      (\gls{cpu}/memory abuse, user-space resource starvation, kernel-level faults) and
      observing outcomes. We expect \gls{sspfs} to contain faults originating in
      the mission domain and maintain stable flight, while \gls{uspfs} exhibits
      fault propagation that can lead to \gls{uav} loss.
\item Quantify supervision overhead and inter-guest interference using MiBench
      \gls{aics} workloads (offline benchmarking), and evaluate mitigations
      (e.g., cache coloring).
\item Benchmark each guest with application-specific metrics (PX4 task-scheduling
      overhead; camera frame rate) and compare the unsupervised and supervised
      solutions.
\item Evaluate both stacks in real-flight conditions, including behavior under
      induced component failures, and analyze resource usage and control fidelity
      from flight logs.
\end{enumerate}

Furthermore, we identified the following research questions:
\begin{itemize}
  \item \textbf{RQ1:} Can static partitioning via Bao maintain flight-control
        timing while co-locating a live video workload on the same hardware
        platform?
  \item \textbf{RQ2:} Does Bao-based supervision contain failures in the
        non-critical mission \gls{vm}, preserving control authority (i.e., keeping
        the \gls{uav} airborne)?
  \item \textbf{RQ3:} What performance overheads does \gls{sspfs} introduce
        versus \gls{uspfs} -- both in offline MiBench benchmarks and in
        application-level metrics (PX4 scheduling overhead, camera frame rate)?
  \item \textbf{RQ4:} What performance overheads does \gls{sspfs} introduce
        versus \gls{uspfs} in PX4's position tracking and the system's resource
        usage (\gls{ram} usage, \gls{cpu} load) during flight?
  \item \textbf{RQ5:} Does mailbox supervision enable safe, practical sharing of
        \gls{pcie} devices between domains without violating isolation?
\end{itemize}

\section{Document Structure}
\label{sec:doc-structure}
This thesis is organized into six chapters that progressively motivate, design, implement, and evaluate a trustworthy \gls{uav} software stack:

\begin{itemize}
\item
\textbf{Chapter \ref{ch:state-art} -- Background and Related Work:}
Introduces mixed-criticality systems and virtualization, with emphasis on
hypervisors (notably Bao). Surveys reference \gls{uav} hardware/software
(open-source and commercial), then reviews related work and identifies gaps in
security, safety, and \gls{swap-c} efficiency that motivate this thesis.

\item
\textbf{Chapter \ref{ch:design} -- Design:}
Presents the \glsxtrfull{sspfs} architecture, using the Bao hypervisor to
consolidate flight-control and companion functions on one platform. Contrasts
supervised \gls{sspfs} with unsupervised baselines -- multi-platform
(\gls{umpfs}) and single-platform (\gls{uspfs}) -- and justifies design choices
for a video-surveillance use case. Details hardware/guest mapping under static
partitioning and introduces a Bao mailbox-supervision mechanism to safely
mediate shared \gls{pcie} device access.

\item
\textbf{Chapter \ref{cha:implementation} -- Implementation:}
Describes the realization of \gls{uspfs} and \gls{sspfs} on the \gls{uavic}
platform (Raspberry Pi 4 + PilotPi): hardware bring-up, PX4 and video pipeline
integration, Bao configuration, \gls{vm} separation, and the mailbox-supervision
driver.

\item
\textbf{Chapter \ref{cha:evaluation} -- Evaluation:}
Assesses functionality, performance, and isolation. Establishes the \gls{uspfs}
baseline, then quantifies \gls{sspfs} overheads (MiBench \glsxtrfull{aics}),
guest-to-guest interference (including cache and device effects), and the impact
of mailbox supervision. Compares single- vs.\ dual-\gls{vm} setups using
guest-specific metrics (e.g., PX4 scheduling overhead, camera frame rate), and
validates both systems in real flight with an automated mission (tracking
accuracy and resource usage), including repetition of functional tests in
flight.

\item
\textbf{Chapter \ref{cha:concl} -- Conclusions and Future Work:}
Summarizes how \gls{sspfs} consolidates mixed-criticality stacks on shared
hardware with robust isolation and modest overhead. Outlines future directions:
broader \gls{uavic} support, advanced shared-resource management, and extended
testing (long-duration flights, adversarial scenarios).

\item
\textbf{Appendices:}
Provide supplemental material (e.g., UAV taxonomy). All configurations, code,
and demonstration videos are available online (see~\cite{thesis-sw-github}).
\end{itemize}



%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../template"
%%% End:
