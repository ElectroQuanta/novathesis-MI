%!TEX root = ../template.tex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Config/7_package.tex
%% NOVA thesis configuration file
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\typeout{NT FILE Config/5_packages.tex}%

% \ntlangsetup{pt/contentsname=O MEU ÍNDICE}
% \ntlangsetup{en/contentsname=MY LITTLE TOC}

%% \printorder(frontmatter,final):={%
%%   statement;       % The statement page
%%   copyright;       % (*) The copyright page
%%   dedicatory;      % (*) Print the dedicatory
%%   acknowledgements;% (*) Print the acknowledgments
%%   quote;           % (*) Print the quote
%%   abstracts;       % Print abstracts in multiple languages.
%%   alllistof;       % Print all the listof defined in “6_list_of.tex”
%%   printglossaries; % Print the Glossary, Acronyms, Symbols, etc…
%% }
%% 
%% \printorder(frontmatter,provisional):={\theprintorder(frontmatter,final)}

%%============================================================
%%  FOR DEMO PURPOSES ONLY --- YOU SHOULD REMOVE THESE PACKAGES
%%============================================================
%% \usepackage{float}        % FOR DEMO PURPOSES ONLY --- PLEASE REMOVE
%% \usepackage{wrapfig}      % FOR DEMO PURPOSES ONLY --- PLEASE REMOVE
%% \restylefloat{figure}     % FOR DEMO PURPOSES ONLY --- PLEASE REMOVE
%% \usepackage{metalogo}     % FOR DEMO PURPOSES ONLY --- PLEASE REMOVE
%% \usepackage{lipsum}       % FOR DEMO PURPOSES ONLY --- PLEASE REMOVE
%% \IfFileExists{byo-twemojiss.sty}{
%%   \usepackage{byo-twemojis}     % to typeset emojis
%%   \newcommand{\emojiSmile}{\raisebox{-3pt}{\scalebox{1.3}{\byoTwemoji{head; eyes normal opened; mouth laughing}}}}
%% }{
%%   \newcommand{\emojiSmile}{\texttt{:D}}
%%   \newlength{\twemojiDefaultHeight}
%% }
%% 
%% \newcommand{\MikTeX}{Mik\TeX}
%% \newcommand{\TeXLive}{\TeX Live}
%% \newcommand{\pdfLaTeX}{pdf\LaTeX}
%% \definecolor{Schlgray}{gray}{0.95}


%%============================================================
%%  ADD YOUR PACKAGES AND OTHER CUSTOMIZATIONS HERE
%%============================================================

% \usepackage[orphans/prevent, widows/prevent]{widows-and-orphans} % add warnings about widows and orphans to “template.log”
% \usepackage{refcheck}     % list used and unused labels

\usepackage{paralist}     % To enable costumizable enumerates.  See the documentation.

\usepackage[textsize=footnotesize]{todonotes}  % To register TODO notes in the text

\usepackage{makecell}      % Multiline table cells and control vertical and horizontal alignment

\usepackage{tcolorbox}    % pretty print color boxes

% \usepackage{indentfirst}       % Indent first list after a (sub)section title

% \usepackage{algorithm2e}
% \RestyleAlgo{ruled}

%Caption formatting
\usepackage[small]{caption}
% src: https://tex.stackexchange.com/a/72981
%\usepackage[skip=0cm,list=true,labelfont=it]{subcaption}
\usepackage[list=true,labelfont=it,font=small]{subcaption}

% \usepackage{minted}    % Fontification of source code listings

% \usepackage{listings}    % Fontification of source code listingsConfig/5_packages.tex
%                          % In alternative, use the package “minted” (highly
% recomended)
% src: https://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings
\usepackage{listings}
\usepackage{minted}
\usepackage{xcolor}
\definecolor{lstbgcolor}{HTML}{fffcf2} % Define a custom background color
\usemintedstyle{solarized-dark}
\setminted{
    % frame=single,
    linenos,
    numbersep=5pt,
    breaklines=true,
    breakanywhere=true,
    bgcolor=lstbgcolor,
    fontsize=\tiny,
    tabsize=4
}
\input{./sty/listing.sty}
% \definecolor{lstbgcolor}{HTML}{f7e9c3} % Define a custom background color

% \newminted{makefile}{
%     frame=single,
%     linenos,
%     numbersep=5pt,
%     breaklines,
%     bgcolor=lightgray,
%     fontsize=\scriptsize,
%     tabsize=4,
%     escapeinside=||, % Optional: for escaping LaTeX inside code
%     style=manni, % Use a Pygments style
%     % keywordstyle=\color{blue},
%     % commentstyle=\color{green},
%     % stringstyle=\color{red},
%     numberstyle=\tiny\color{gray},
% }

% % Define a custom command for external Makefile files
% \newcommand{\inputmakefile}[2][]{%
%     \inputminted[#1]{makefile}{#2}%
% }


% Set up the listing counter to include the chapter number
\counterwithin{listing}{chapter} % Reset listing counter with each chapter
\renewcommand{\thelisting}{\thechapter.\arabic{listing}} % Format:
% chapter.listing

% DOES NOT WORK    
% \AtBeginDocument{
%     \counterwithin{figure}{chapter} % Reset figure counter per chapter
%     \renewcommand{\thefigure}{\thechapter.\arabic{figure}} % Format as "X.Y"
%   }

\AtEndPreamble{
    % Set ALL code elements to magenta
    \lstset{
      basicstyle=\ttfamily\small\color{magenta}, % Default text
        keywordstyle=\color{magenta},    % Keywords (e.g., "if", "for" in C)
        commentstyle=\color{magenta},    % Comments
        stringstyle=\color{magenta},     % Strings
        identifierstyle=\color{magenta}, % Variables/functions
        numberstyle=\color{magenta},     % Line numbers (if shown)
        emphstyle=\color{magenta},       % Emphasized code
        rulecolor=\color{magenta},       % Border color (for frames)
        % Bash-specific fixes (for "=", "$", etc.)
        literate=*                       % Treat all characters as normal text
            {=}{{{\color{magenta}=}}}{1}
            {\$}{{{\color{magenta}\$}}}{1}
            {.}{{{\color{magenta}.}}}{1}
    }
    }

% \AtEndPreamble{
%     \IfFileExists{listings.sty}{\ClassInfo{novathesis}{listings is loaded}}{}
%   }

% DOES NOT WORK    
% \AtEndPreamble{
%     \makeatletter
%     \show\lst@basicstyle % Check font
%     \show\lst@keywordstyle % Check keyword color
%     \show\lst@literate % Check symbol handling
%     \makeatother
% }

% Define the longlisting environment
\newenvironment{longlisting}{\captionsetup{type=listing}}{}

% Date
%\renewcommand{\today}{\ifcase \month \or January\or February\or March\or %
%April\or May \or June\or July\or August\or September\or October\or November\or %
%December\fi, \number \year}

\usepackage[shortcuts]{extdash} % to hyphenate words with hyphens
\usepackage[export]{adjustbox} % to position images 


\usepackage{enumerate}
\usepackage{enumitem}
\newlist{enum-c}{enumerate}{1}
\setlist[enum-c,1]{labelindent=\parindent, label=\arabic*., nolistsep,
align=left, leftmargin=*} %,label=$\star$

\newlist{item-c}{itemize}{1}
\setlist[item-c,1]{labelindent=\parindent, label=\textbullet, nolistsep,
align=left, leftmargin=*} %,label=$\star$

%%%%%%%%%%%%%%% Latex Tables %%%%%%%%%%%%%%
%\usepackage{tabularray}[xcolor]
\usepackage{booktabs}
%\usepackage{multirow}
\usepackage{graphicx}
\usepackage{array}
\usepackage{longtable}
\usepackage{threeparttable}
\usepackage{tabularx}
\usepackage{rotating} % provides sidewaystable
% \usepackage{pdflscape}

%\usepackage{colortbl}

%\usepackage[table,xcdraw]{xcolor}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{textcomp} % for registered and trademark symbols
\usepackage[percent]{overpic}
\usepackage{multirow}
\usepackage{pdfpages}
\usepackage{wasysym}

%%%%%%%%%%%%% Unicode support %%%%%%%%%%%%%
\usepackage{fontspec}
\usepackage{newunicodechar}
%\newunicodechar{ǚ}{\v{ü}}
%\newunicodechar{Ǚ}{\v{Ü}}
%\newunicodechar{ǎ}{\v{a}}
%\newunicodechar{Ǎ}{\v{A}}
%\newunicodechar{ǒ}{\v{o}}
%\newunicodechar{Ǒ}{\v{O}}

% https://tex.stackexchange.com/a/280718
\usepackage{pifont} % for check mark
\usepackage{gensymb}

% src: https://tex.stackexchange.com/a/476574
\makeatletter

\newunicodechar{ǚ}{\add@accent{`^^^^02c7}{ü}}
\newunicodechar{Ǚ}{\add@accent{`^^^^02c7}{Ü}}
\newunicodechar{ǎ}{\add@accent{`^^^^02c7}{a}}

%\newfontfamily{\eurofont}{Best Font}[Scale=MatchUppercase]
\newunicodechar{€}{{€}}

\newunicodechar{✓}{\ding{51}}
\newunicodechar{✗}{\ding{55}}

%\renewcommand{\thetable}{\arabic{chapter}.\arabic{table}}  
%\renewcommand{\thefigure}{\arabic{chapter}.\arabic{figure}}

\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ================== PlantUML latex output
%\usepackage{tikz}
%\usepackage{aeguill}\
%\usepackage{svg}
%\svgpath{{../img/svg/}} % <- using \svgpath to avoid warning
\usepackage{epstopdf} %converting to PDF
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%% Others %%%%%%%%%%%%%%%%%%%%%%%
% the newcommand* disallows paragraph breaks, while the other version not
\newcommand*{\textreg}{\textsuperscript{\textregistered}}
\newcommand{\hexcolor}[2]{\textcolor[HTML]{#1}{#2}} % Macro with hex code
\newcommand{\hlighthex}[3]{\colorbox[HTML]{#1}{\textcolor[HTML]{#2}{#3}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% ========== Footnotes
% src: https://tex.stackexchange.com/a/16871
\newcommand*{\fnref}[1]{\textsuperscript{\ref{#1}}}
%\newcommand*{\fnlicA}{\footnotetext{Used under the terms of the Creative Commons BY-SA 3.0 license.}}%
\newcommand*{\fnlicCCSA}[1]{\footnotetext{\label{#1}Used under the terms of the
    \href{https://creativecommons.org/licenses/by-sa/3.0/}{Creative Commons
      BY-SA 3.0 license.}}}%
\newcommand*{\fnlicCC}[1]{\footnotetext{\label{#1}Used under the terms of the
    \href{https://creativecommons.org/licenses/by/3.0/}{Creative Commons BY 3.0
      license.}}}%
%
\newcommand*{\fnlicCCNCa}[1]{\footnotetext{\label{#1}Used under the terms of the
    \href{https://creativecommons.org/licenses/by-nc-nd/4.0/}{Creative Commons
      BY-NC-ND 4.0 license.}}}%
\newcommand*{\fnlicCCNC}[1]{\footnotetext{\label{#1}Used under the terms of the
    \href{https://creativecommons.org/licenses/by-nc/3.0/}{Creative Commons
      BY-NC 3.0 license.}}}%
\newcommand*{\fnlicReq}[2]{\footnotetext{Used with permission from #1: license
    nr. #2}}%
\newcommand*{\fnlicNC}[1]{\footnotetext{Copyright \textcopyright\ #1: Used with permission for non-commercial
    purposes only}}%
\newcommand*{\fnlicCCFour}[1]{\footnotetext{\label{#1}Used under the terms of the
    \href{https://creativecommons.org/licenses/by/4.0/}{Creative Commons
      BY 4.0 license.}}}%
%\feetbelowfloat%
% ==================

% % ================================ Algorithmic ===============================
% % algorithms and pseudocode
% \usepackage{algorithm}
% %\usepackage[noend]{algpseudocode}
% \usepackage[end]{algpseudocode}
% % src: https://tex.stackexchange.com/a/328067
% \algdef{SE}[VARIABLES]{Variables}{EndVariables}
%    {\algorithmicvariables}
%    {\algorithmicend\ \algorithmicvariables}
%    \algnewcommand{\algorithmicvariables}{\textbf{variables declaration}}

%    % src:
% \renewcommand{\algorithmicrequire}{\textbf{Input:}}
% \renewcommand{\algorithmicensure}{\textbf{Output:}}

% % https://tex.stackexchange.com/a/33798 
% \algnewcommand{\algorithmicgoto}{\textbf{go to}}%
% \algnewcommand{\Goto}{\algorithmicgoto\xspace}%
% \algnewcommand{\Label}{\State\unskip}%
% ============================================================================

%\renewcommand{\cftpartleader}{\cftdotfill{\cftnodots}} % for parts
%\renewcommand{\cftchapleader}{\cftdotfill{\cftnodots}} % for chapters
%\renewcommand{\cftsecleader}{\cftdotfill{\cftnodots}} % for sections
%\renewcommand{\cftsubsecleader}{\cftdotfill{\cftnodots}} % for subsections
%\renewcommand{\cftsubsubsecleader}{\cftdotfill{\cftnodots}} % for subsubsections
%\renewcommand{\cftfigleader}{\cftdotfill{\cftnodots}} % for figures
%\renewcommand{\cfttableader}{\cftdotfill{\cftnodots}} % for tables

% Better looking bibliography references
%\usepackage[square, numbers]{natbib}
%\usepackage{notoccite}
%\bibliographystyle{unsrtnat}


%%%%%%%%%%%%%% Quotes %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Define a custom environment for quotes with alignment option
%\newenvironment{alignedquote}[2]{%
%    \begin{quote}
%    \ifx#1r%
%        \hfill
%    \else%
%        \relax % do nothing for left alignment
%    \fi%
%    \textit{#2}
%}{%
%  %  \ifx#1r%
%  %      \relax % do nothing for right alignment
%  %  \else%
%  %      \hfill
%  %  \fi%
%    \end{quote}
%  }

  % Define a custom environment for quotes with alignment option
%% \newenvironment{alignedquote}[2]{%
%%     \def\alignquote{#1}%
%%     \begin{quote}
%%     \ifx#1r%
%%         \begin{flushright}
%%     \else%
%%         \begin{flushleft}
%%     \fi%
%%     \textit{#2}
%% }{%
%%   \if\alignquote r%
%%   \end{flushright}%
%% \else%
%% \end{flushleft}%
%% \fi%
%% \end{quote}
%% }
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%   Chapter styles %%%%%%%%%%%%%%%%%%%%%%%%%%
% List of default chapter styles
\newcommand{\defaultstyles}{default, section, hangnum, article, bianchi, bringhurst, brotherton, chappell, crosshead, culver, dash, demo2, dowding, ell, ger, komalike, lyhne, madsen, ntglike, southall, tandh, thatcher, veelo, verville, wilsondob}

% List of additional chapter styles
\newcommand{\additionalstyles}{bar-compact, bar, bluebox, compact, elegant, fmv, hansen, ist, vz34, vz43}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \lstset{
%     captionpos=t,
%     basicstyle={\ttfamily\footnotesize},
%     numbers=left,
%     numberstyle={\ttfamily\tiny},
%     tabsize=2,
%     language=Java,
%     float,
%     frame=single,
%     columns=fullflexible,
%     breaklines=true,
%     postbreak=\mbox{\textcolor{red}{$\hookrightarrow$}\space},
%     inputencoding=utf8,
%     extendedchars=true,
%     literate=
%       {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1
%       {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1
%       {à}{{\`a}}1 {è}{{\`e}}1 {ì}{{\`i}}1 {ò}{{\`o}}1 {ù}{{\`u}}1
%       {À}{{\`A}}1 {È}{{\'E}}1 {Ì}{{\`I}}1 {Ò}{{\`O}}1 {Ù}{{\`U}}1
%       {ä}{{\"a}}1 {ë}{{\"e}}1 {ï}{{\"i}}1 {ö}{{\"o}}1 {ü}{{\"u}}1
%       {Ä}{{\"A}}1 {Ë}{{\"E}}1 {Ï}{{\"I}}1 {Ö}{{\"O}}1 {Ü}{{\"U}}1
%       {â}{{\^a}}1 {ê}{{\^e}}1 {î}{{\^i}}1 {ô}{{\^o}}1 {û}{{\^u}}1
%       {Â}{{\^A}}1 {Ê}{{\^E}}1 {Î}{{\^I}}1 {Ô}{{\^O}}1 {Û}{{\^U}}1
%       {œ}{{\oe}}1 {Œ}{{\OE}}1 {æ}{{\ae}}1 {Æ}{{\AE}}1 {ß}{{\ss}}1
%       {ç}{{\c c}}1 {Ç}{{\c C}}1 {ø}{{\o}}1 {å}{{\r a}}1 {Å}{{\r A}}1
%       {€}{{\EUR}}1 {£}{{\pounds}}1
%     }
